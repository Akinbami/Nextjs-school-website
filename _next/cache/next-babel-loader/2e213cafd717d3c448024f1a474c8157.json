{"ast":null,"code":"import _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React, { useState, useRef } from 'react'; // import ReactQuill from 'react-quill';\n\nimport Link from 'next/link';\nimport Head from 'next/head';\nimport fetch from 'isomorphic-unfetch';\nimport dateformat from 'dateformat';\nimport AdminLayout from '../../components/AdminLayout';\nimport MainNav from '../../components/AdminMainNav';\nconst GET_POSTS_API = \"https://gwh3ump9m0.execute-api.us-east-2.amazonaws.com/prod/api/posts\";\n\nconst AdminPost = props => {\n  const {\n    0: title,\n    1: setTitle\n  } = useState(\"\");\n  const {\n    0: error,\n    1: setError\n  } = useState(null);\n  return __jsx(AdminLayout, {\n    sidebar: true\n  }, __jsx(\"main\", {\n    className: \"jsx-1607622671\" + \" \" + \"main-content col-lg-10 col-md-9 col-sm-12 p-0 offset-lg-2 offset-md-3\"\n  }, __jsx(MainNav, null), __jsx(\"div\", {\n    className: \"jsx-1607622671\" + \" \" + \"main-content-container container-fluid px-4\"\n  }, error == null ? \"\" : __jsx(\"div\", {\n    role: \"alert\",\n    className: \"jsx-1607622671\" + \" \" + \"alert alert-danger\"\n  }, error), __jsx(\"div\", {\n    className: \"jsx-1607622671\" + \" \" + \"page-header row no-gutters py-4\"\n  }, __jsx(\"div\", {\n    className: \"jsx-1607622671\" + \" \" + \"col-12 col-sm-4 text-center text-sm-left mb-0\"\n  }, __jsx(\"span\", {\n    className: \"jsx-1607622671\" + \" \" + \"text-uppercase page-subtitle\"\n  }, \"Components\"), __jsx(\"h3\", {\n    className: \"jsx-1607622671\" + \" \" + \"page-title\"\n  }, \"Blog Posts\"))), __jsx(\"div\", {\n    className: \"jsx-1607622671\" + \" \" + \"row\"\n  }, props.posts.map(item => {\n    return __jsx(\"div\", {\n      key: item.id,\n      className: \"jsx-1607622671\" + \" \" + \"col-lg-3 col-md-6 col-sm-12 mb-4\"\n    }, __jsx(\"div\", {\n      className: \"jsx-1607622671\" + \" \" + \"card card-small card-post card-post--1\"\n    }, __jsx(\"div\", {\n      style: {\n        \"backgroundImage\": `url(${item.image_url})`\n      },\n      className: \"jsx-1607622671\" + \" \" + \"card-post__image\"\n    }, __jsx(\"a\", {\n      href: \"#\",\n      className: \"jsx-1607622671\" + \" \" + \"card-post__category badge badge-pill badge-dark\"\n    }, item.category), __jsx(\"div\", {\n      className: \"jsx-1607622671\" + \" \" + \"card-post__author d-flex\"\n    }, __jsx(\"a\", {\n      href: \"#\",\n      style: {\n        \"backgroundImage\": \"url('/images/avatars/0.jpg')\"\n      },\n      className: \"jsx-1607622671\" + \" \" + \"card-post__author-avatar card-post__author-avatar--small\"\n    }, \"Written by Anna Kunis\"))), __jsx(\"div\", {\n      className: \"jsx-1607622671\" + \" \" + \"card-body\"\n    }, __jsx(\"h5\", {\n      className: \"jsx-1607622671\" + \" \" + \"card-title\"\n    }, __jsx(Link, {\n      href: `/admin/p/${item.id}`\n    }, __jsx(\"a\", {\n      href: \"#\",\n      className: \"jsx-1607622671\" + \" \" + \"text-fiord-blue\"\n    }, item.title))), __jsx(\"div\", {\n      dangerouslySetInnerHTML: {\n        __html: item.content.slice(0, 50)\n      },\n      className: \"jsx-1607622671\"\n    }), __jsx(\"span\", {\n      className: \"jsx-1607622671\" + \" \" + \"text-muted\"\n    }, dateformat(item.date_posted, \"dddd, mmmm dS, yyyy, h:MM:ss TT\")))));\n  }))), __jsx(\"footer\", {\n    className: \"jsx-1607622671\" + \" \" + \"main-footer d-flex p-2 px-3 bg-white border-top\"\n  }, __jsx(\"ul\", {\n    className: \"jsx-1607622671\" + \" \" + \"nav\"\n  }, __jsx(\"li\", {\n    className: \"jsx-1607622671\" + \" \" + \"nav-item\"\n  }, __jsx(\"a\", {\n    href: \"#\",\n    className: \"jsx-1607622671\" + \" \" + \"nav-link\"\n  }, \"Home\")), __jsx(\"li\", {\n    className: \"jsx-1607622671\" + \" \" + \"nav-item\"\n  }, __jsx(\"a\", {\n    href: \"#\",\n    className: \"jsx-1607622671\" + \" \" + \"nav-link\"\n  }, \"Services\")), __jsx(\"li\", {\n    className: \"jsx-1607622671\" + \" \" + \"nav-item\"\n  }, __jsx(\"a\", {\n    href: \"#\",\n    className: \"jsx-1607622671\" + \" \" + \"nav-link\"\n  }, \"About\")), __jsx(\"li\", {\n    className: \"jsx-1607622671\" + \" \" + \"nav-item\"\n  }, __jsx(\"a\", {\n    href: \"#\",\n    className: \"jsx-1607622671\" + \" \" + \"nav-link\"\n  }, \"Products\")), __jsx(\"li\", {\n    className: \"jsx-1607622671\" + \" \" + \"nav-item\"\n  }, __jsx(\"a\", {\n    href: \"#\",\n    className: \"jsx-1607622671\" + \" \" + \"nav-link\"\n  }, \"Blog\"))), __jsx(\"span\", {\n    className: \"jsx-1607622671\" + \" \" + \"copyright ml-auto my-auto mr-2\"\n  }, \"Copyright \\xA9 2018\", __jsx(\"a\", {\n    href: \"https://designrevision.com\",\n    rel: \"nofollow\",\n    className: \"jsx-1607622671\"\n  }, \"DesignRevision\")))), __jsx(_JSXStyle, {\n    id: \"1607622671\"\n  }, []));\n};\n\nAdminPost.getInitialProps = async function () {\n  // const res = await fetch('https://0mi6xhcet3.execute-api.us-east-2.amazonaws.com/dev/api/designs');\n  const res = await fetch(GET_POSTS_API);\n  const data = await res.json();\n  console.log(`Show data fetched. Count: ${data.length}`);\n  console.log(data);\n  return {\n    posts: data.map(entry => entry)\n  };\n};\n\nexport default AdminPost;","map":null,"metadata":{},"sourceType":"module"}