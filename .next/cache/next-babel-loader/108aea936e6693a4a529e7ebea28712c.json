{"ast":null,"code":"var _jsxFileName = \"/Users/dayoakinbami/Desktop/dev/abc-frontend/abc/pages/admin/login.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React, { useState, useRef } from 'react'; // import ReactQuill from 'react-quill';\n\nimport Link from 'next/link';\nimport Head from 'next/head';\nimport LoadingOverlay from 'react-loading-overlay';\nimport { useCookies } from 'react-cookie';\nimport { useRouter } from 'next/router';\nimport AdminLayout from '../../components/AdminLayout'; // import 'react-quill/dist/quill.snow.css'\n\nconst LOGIN_API = \"https://6j0n7kx92c.execute-api.us-east-2.amazonaws.com/dev/api/login\"; // const cookies = new Cookies();\n\nconst Login = () => {\n  const {\n    0: username,\n    1: setUsername\n  } = useState(\"\");\n  const {\n    0: password,\n    1: setPassword\n  } = useState(\"\");\n  const {\n    0: isLoading,\n    1: setIsLoading\n  } = useState(false);\n  const {\n    0: error,\n    1: setError\n  } = useState(null);\n  const [cookies, setCookie] = useCookies(['token']);\n  const router = useRouter();\n\n  const handleChange = value => {\n    console.log(\"value \", value);\n    setContent(value);\n  };\n\n  const login = () => {\n    if (username == \"\" || password == \"\") {\n      console.log(username, password);\n      setError(\"please complete the form and try again\");\n    } else {\n      console.log(\"username and password \", username, password);\n      setIsLoading(true);\n      fetch(LOGIN_API, {\n        method: 'POST',\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          username: username,\n          password: password\n        })\n      }).then(response => response.json()).then(data => {\n        console.log(data);\n\n        if (data.error) {\n          setIsLoading(false);\n          setError(data.message);\n        } else {\n          let token = data.access_token;\n          setCookie('token', token);\n          setError(null);\n          router.push('/');\n          setIsLoading(false);\n        }\n      }).catch(error => {\n        setIsLoading(false);\n        console.log(error);\n      });\n    }\n  };\n\n  return __jsx(LoadingOverlay, {\n    active: isLoading,\n    spinner: true,\n    text: \"Loading your content...\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }\n  }, __jsx(AdminLayout, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 11\n    }\n  }, __jsx(\"div\", {\n    className: \"jsx-3363212298\" + \" \" + \"d-flex justify-content-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 12\n    }\n  }, __jsx(\"div\", {\n    className: \"jsx-3363212298\" + \" \" + \"auth-card\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    className: \"jsx-3363212298\" + \" \" + \"card card-small mb-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    className: \"jsx-3363212298\" + \" \" + \"card-header border-bottom text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 19\n    }\n  }, __jsx(\"h6\", {\n    className: \"jsx-3363212298\" + \" \" + \"m-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 23\n    }\n  }, \"Login\")), __jsx(\"div\", {\n    className: \"jsx-3363212298\" + \" \" + \"login-group w-50 mx-auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 19\n    }\n  }, error !== null ? __jsx(\"div\", {\n    role: \"alert\",\n    className: \"jsx-3363212298\" + \" \" + \"alert alert-danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 34\n    }\n  }, error) : \"\", __jsx(\"form\", {\n    className: \"jsx-3363212298\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 23\n    }\n  }, __jsx(\"strong\", {\n    className: \"jsx-3363212298\" + \" \" + \"text-muted d-block mb-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 27\n    }\n  }, \"Username\"), __jsx(\"div\", {\n    className: \"jsx-3363212298\" + \" \" + \"input-group mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 27\n    }\n  }, __jsx(\"div\", {\n    className: \"jsx-3363212298\" + \" \" + \"input-group-prepend\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 29\n    }\n  }, __jsx(\"span\", {\n    className: \"jsx-3363212298\" + \" \" + \"input-group-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 31\n    }\n  }, \"@\")), __jsx(\"input\", {\n    type: \"text\",\n    onChange: e => setUsername(e.target.value),\n    \"aria-label\": \"Username\",\n    \"aria-describedby\": \"basic-addon1\",\n    className: \"jsx-3363212298\" + \" \" + \"form-control\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 29\n    }\n  })), __jsx(\"strong\", {\n    className: \"jsx-3363212298\" + \" \" + \"text-muted d-block mb-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 27\n    }\n  }, \"Password\"), __jsx(\"div\", {\n    className: \"jsx-3363212298\" + \" \" + \"input-group mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 27\n    }\n  }, __jsx(\"div\", {\n    className: \"jsx-3363212298\" + \" \" + \"input-group input-group-seamless\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 29\n    }\n  }, __jsx(\"input\", {\n    type: \"password\",\n    onChange: e => setPassword(e.target.value),\n    id: \"password\",\n    className: \"jsx-3363212298\" + \" \" + \"form-control\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 31\n    }\n  }), __jsx(\"span\", {\n    className: \"jsx-3363212298\" + \" \" + \"input-group-append\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 31\n    }\n  }, __jsx(\"span\", {\n    className: \"jsx-3363212298\" + \" \" + \"input-group-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 33\n    }\n  }, __jsx(\"i\", {\n    className: \"jsx-3363212298\" + \" \" + \"material-icons\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 35\n    }\n  }, \"lock\"))))), __jsx(\"div\", {\n    className: \"jsx-3363212298\" + \" \" + \"float-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 27\n    }\n  }, __jsx(\"button\", {\n    type: \"button\",\n    onClick: () => login(),\n    class: \"mb-2 btn btn-sm btn-primary mr-1\",\n    className: \"jsx-3363212298\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 28\n    }\n  }, \"Submit\")), __jsx(\"p\", {\n    className: \"jsx-3363212298\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 27\n    }\n  }, \"Don't have an Account! \", __jsx(\"a\", {\n    href: \"/register\",\n    className: \"jsx-3363212298\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 53\n    }\n  }, \"Sign Up Here\")), __jsx(\"p\", {\n    className: \"jsx-3363212298\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 17\n    }\n  }, \"Forgot \", __jsx(\"a\", {\n    href: \"#\",\n    className: \"jsx-3363212298\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 27\n    }\n  }, \"Password?\"))))))), __jsx(_JSXStyle, {\n    id: \"3363212298\",\n    __self: this\n  }, \".auth-card.jsx-3363212298{width:30rem;margin-top:5rem;}.login-group.jsx-3363212298{padding-top:10%;padding-bottom:10%;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9kYXlvYWtpbmJhbWkvRGVza3RvcC9kZXYvYWJjLWZyb250ZW5kL2FiYy9wYWdlcy9hZG1pbi9sb2dpbi5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUEySHdCLEFBRzRCLEFBTUksWUFMQSxJQU1HLFlBTHBCLE9BTUEiLCJmaWxlIjoiL1VzZXJzL2RheW9ha2luYmFtaS9EZXNrdG9wL2Rldi9hYmMtZnJvbnRlbmQvYWJjL3BhZ2VzL2FkbWluL2xvZ2luLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7dXNlU3RhdGUsdXNlUmVmfSBmcm9tICdyZWFjdCc7XG4vLyBpbXBvcnQgUmVhY3RRdWlsbCBmcm9tICdyZWFjdC1xdWlsbCc7XG5pbXBvcnQgTGluayBmcm9tICduZXh0L2xpbmsnO1xuaW1wb3J0IEhlYWQgZnJvbSAnbmV4dC9oZWFkJztcbmltcG9ydCBMb2FkaW5nT3ZlcmxheSBmcm9tICdyZWFjdC1sb2FkaW5nLW92ZXJsYXknXG5pbXBvcnQgeyB1c2VDb29raWVzIH0gZnJvbSAncmVhY3QtY29va2llJztcbmltcG9ydCB7IHVzZVJvdXRlciB9IGZyb20gJ25leHQvcm91dGVyJztcblxuaW1wb3J0IEFkbWluTGF5b3V0IGZyb20gJy4uLy4uL2NvbXBvbmVudHMvQWRtaW5MYXlvdXQnO1xuXG4vLyBpbXBvcnQgJ3JlYWN0LXF1aWxsL2Rpc3QvcXVpbGwuc25vdy5jc3MnXG5cblxuXG5cbmNvbnN0IExPR0lOX0FQSSA9IFwiaHR0cHM6Ly82ajBuN2t4OTJjLmV4ZWN1dGUtYXBpLnVzLWVhc3QtMi5hbWF6b25hd3MuY29tL2Rldi9hcGkvbG9naW5cIlxuLy8gY29uc3QgY29va2llcyA9IG5ldyBDb29raWVzKCk7XG5cbmNvbnN0IExvZ2luID0gKCkgPT4ge1xuICAgIGNvbnN0IFt1c2VybmFtZSxzZXRVc2VybmFtZV0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgICBjb25zdCBbcGFzc3dvcmQsc2V0UGFzc3dvcmRdID0gdXNlU3RhdGUoXCJcIik7XG4gICAgY29uc3QgW2lzTG9hZGluZyxzZXRJc0xvYWRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICAgIGNvbnN0IFtlcnJvcixzZXRFcnJvcl0gPSB1c2VTdGF0ZShudWxsKTtcbiAgICBjb25zdCBbY29va2llcywgc2V0Q29va2llXSA9IHVzZUNvb2tpZXMoWyd0b2tlbiddKTtcblxuICAgIGNvbnN0IHJvdXRlciA9IHVzZVJvdXRlcigpXG5cbiAgICBjb25zdCBoYW5kbGVDaGFuZ2U9KHZhbHVlKT0+e1xuICAgICAgY29uc29sZS5sb2coXCJ2YWx1ZSBcIix2YWx1ZSlcbiAgICAgIHNldENvbnRlbnQodmFsdWUpO1xuICAgIH1cblxuICAgIGNvbnN0IGxvZ2luID0gKCkgPT57XG5cbiAgICAgIGlmKHVzZXJuYW1lPT1cIlwifHxwYXNzd29yZD09XCJcIil7XG4gICAgICBcdGNvbnNvbGUubG9nKHVzZXJuYW1lLCBwYXNzd29yZClcbiAgICAgICAgc2V0RXJyb3IoXCJwbGVhc2UgY29tcGxldGUgdGhlIGZvcm0gYW5kIHRyeSBhZ2FpblwiKVxuICAgICAgfWVsc2V7XG4gICAgICAgIGNvbnNvbGUubG9nKFwidXNlcm5hbWUgYW5kIHBhc3N3b3JkIFwiLCB1c2VybmFtZSwgcGFzc3dvcmQpXG4gICAgICAgIHNldElzTG9hZGluZyh0cnVlKVxuICAgICAgICBmZXRjaChMT0dJTl9BUEksIHtcbiAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICAgJ0FjY2VwdCc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcbiAgICAgICAgICAgIH0sIFxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgICAgICB1c2VybmFtZTogdXNlcm5hbWUsXG4gICAgICAgICAgICAgICAgIHBhc3N3b3JkOiBwYXNzd29yZFxuICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiByZXNwb25zZS5qc29uKCkpXG4gICAgICAgICAgICAudGhlbihkYXRhID0+e1xuICAgICAgICAgICAgICBcdGNvbnNvbGUubG9nKGRhdGEpO1xuICAgICAgICAgICAgICBcdGlmKGRhdGEuZXJyb3Ipe1xuICAgICAgICAgICAgICBcdFx0c2V0SXNMb2FkaW5nKGZhbHNlKVxuICAgICAgICAgICAgICBcdFx0c2V0RXJyb3IoZGF0YS5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgXHR9ZWxzZXtcbiAgICAgICAgICAgICAgXHRcdGxldCB0b2tlbiA9IGRhdGEuYWNjZXNzX3Rva2VuO1xuXHQgICAgICAgICAgICAgIFx0c2V0Q29va2llKCd0b2tlbicsIHRva2VuKTtcbiAgICAgICAgICAgICAgXHRcdHNldEVycm9yKG51bGwpO1xuXHQgICAgICAgICAgICAgIFx0cm91dGVyLnB1c2goJy8nKVxuXHQgICAgICAgICAgICAgIFx0c2V0SXNMb2FkaW5nKGZhbHNlKVxuICAgICAgICAgICAgICBcdH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuY2F0Y2goZXJyb3IgPT57XG4gICAgICAgICAgICAgIHNldElzTG9hZGluZyhmYWxzZSlcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpXG4gICAgICAgICAgICB9KSBcbiAgICAgIH1cbiAgICB9XG5cbiAgICBcbiAgICByZXR1cm4oXG5cbiAgICAgICAgPExvYWRpbmdPdmVybGF5XG4gICAgICAgICAgICBhY3RpdmU9e2lzTG9hZGluZ31cbiAgICAgICAgICAgIHNwaW5uZXJcbiAgICAgICAgICAgIHRleHQ9J0xvYWRpbmcgeW91ciBjb250ZW50Li4uJ1xuICAgICAgICAgICAgPlxuICAgICAgICAgIFxuXG4gICAgICAgICAgPEFkbWluTGF5b3V0PlxuXHQgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJkLWZsZXgganVzdGlmeS1jb250ZW50LWNlbnRlclwiPlxuXHQgICAgICAgICAgXHQ8ZGl2IGNsYXNzTmFtZT1cImF1dGgtY2FyZFwiPlxuXHRcdCAgIFx0XHRcdDxkaXYgY2xhc3NOYW1lPVwiY2FyZCBjYXJkLXNtYWxsIG1iLTRcIj5cblx0XHQgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjYXJkLWhlYWRlciBib3JkZXItYm90dG9tIHRleHQtY2VudGVyXCI+XG5cdFx0ICAgICAgICAgICAgICAgICAgICA8aDYgY2xhc3NOYW1lPVwibS0wXCI+TG9naW48L2g2PlxuXHRcdCAgICAgICAgICAgICAgICA8L2Rpdj5cblx0XHQgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJsb2dpbi1ncm91cCB3LTUwIG14LWF1dG9cIj5cblx0XHQgICAgICAgICAgICAgICAgXHR7ZXJyb3IhPT1udWxsPzxkaXYgY2xhc3NOYW1lPVwiYWxlcnQgYWxlcnQtZGFuZ2VyXCIgcm9sZT1cImFsZXJ0XCI+XG5cdFx0XHRcdFx0XHRcdFx0XHQgIHtlcnJvcn1cblx0XHRcdFx0XHRcdFx0XHRcdDwvZGl2PjpcIlwifVxuXHRcdCAgICAgICAgICAgICAgICAgICAgPGZvcm0+XG5cdFx0ICAgICAgICAgICAgICAgICAgICAgICAgPHN0cm9uZyBjbGFzc05hbWU9XCJ0ZXh0LW11dGVkIGQtYmxvY2sgbWItMlwiPlVzZXJuYW1lPC9zdHJvbmc+XG5cdFx0ICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJpbnB1dC1ncm91cCBtYi0zXCI+XG5cdFx0ICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImlucHV0LWdyb3VwLXByZXBlbmRcIj5cblx0XHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaW5wdXQtZ3JvdXAtdGV4dFwiPkA8L3NwYW4+XG5cdFx0ICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblx0XHQgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiIG9uQ2hhbmdlPXtlPT5zZXRVc2VybmFtZShlLnRhcmdldC52YWx1ZSl9IGFyaWEtbGFiZWw9XCJVc2VybmFtZVwiIGFyaWEtZGVzY3JpYmVkYnk9XCJiYXNpYy1hZGRvbjFcIiAvPiBcblx0XHQgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuXHRcdCAgICAgICAgICAgICAgICAgICAgICAgIDxzdHJvbmcgY2xhc3NOYW1lPVwidGV4dC1tdXRlZCBkLWJsb2NrIG1iLTJcIj5QYXNzd29yZDwvc3Ryb25nPlxuXHRcdCAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaW5wdXQtZ3JvdXAgbWItM1wiPlxuXHRcdCAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJpbnB1dC1ncm91cCBpbnB1dC1ncm91cC1zZWFtbGVzc1wiPlxuXHRcdCAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInBhc3N3b3JkXCIgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCIgb25DaGFuZ2U9e2U9PnNldFBhc3N3b3JkKGUudGFyZ2V0LnZhbHVlKX0gaWQ9XCJwYXNzd29yZFwiICAvPlxuXHRcdCAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJpbnB1dC1ncm91cC1hcHBlbmRcIj5cblx0XHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJpbnB1dC1ncm91cC10ZXh0XCI+XG5cdFx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uc1wiPmxvY2s8L2k+XG5cdFx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuXHRcdCAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG5cdFx0ICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblx0XHQgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblx0XHQgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsb2F0LXJpZ2h0XCI+XG5cdFx0ICAgICAgICAgICAgICAgICAgICAgICAgXHQ8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBvbkNsaWNrPXsoKT0+bG9naW4oKX0gY2xhc3M9XCJtYi0yIGJ0biBidG4tc20gYnRuLXByaW1hcnkgbXItMVwiPlN1Ym1pdDwvYnV0dG9uPlxuXHRcdCAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuXHRcdCAgICAgICAgICAgICAgICAgICAgICAgIDxwPkRvbid0IGhhdmUgYW4gQWNjb3VudCEgPGEgaHJlZj1cIi9yZWdpc3RlclwiPlNpZ24gVXAgSGVyZTwvYT48L3A+XG4gICAgICAgICAgXHRcdFx0XHRcdFx0PHA+Rm9yZ290IDxhIGhyZWY9XCIjXCI+UGFzc3dvcmQ/PC9hPjwvcD5cblx0XHQgICAgICAgICAgICAgICAgICAgIDwvZm9ybT5cblx0XHQgICAgICAgICAgICAgICAgPC9kaXY+XG5cdFx0ICAgICAgICAgICAgPC9kaXY+XG5cdFx0ICAgICAgICA8L2Rpdj5cblx0ICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxzdHlsZSBqc3g+e2BcbiAgICAgICAgICAgICAgLmF1dGgtY2FyZHtcbiAgICAgICAgICAgICAgXHR3aWR0aDogMzByZW07XG4gICAgICAgICAgICAgIFx0bWFyZ2luLXRvcDogNXJlbTtcbiAgICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgICAgLmxvZ2luLWdyb3Vwe1xuICAgICAgICAgICAgICBcdHBhZGRpbmctdG9wOiAxMCU7XG4gICAgICAgICAgICAgIFx0cGFkZGluZy1ib3R0b206IDEwJTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgYH08L3N0eWxlPlxuICAgICAgICAgIDwvQWRtaW5MYXlvdXQ+XG4gICAgICAgIDwvTG9hZGluZ092ZXJsYXk+XG4gICAgICApXG4gICAgXG59XG5cbmV4cG9ydCBkZWZhdWx0IExvZ2luO1xuIl19 */\\n/*@ sourceURL=/Users/dayoakinbami/Desktop/dev/abc-frontend/abc/pages/admin/login.js */\")));\n};\n\nexport default Login;","map":{"version":3,"sources":["/Users/dayoakinbami/Desktop/dev/abc-frontend/abc/pages/admin/login.js"],"names":["React","useState","useRef","Link","Head","LoadingOverlay","useCookies","useRouter","AdminLayout","LOGIN_API","Login","username","setUsername","password","setPassword","isLoading","setIsLoading","error","setError","cookies","setCookie","router","handleChange","value","console","log","setContent","login","fetch","method","headers","body","JSON","stringify","then","response","json","data","message","token","access_token","push","catch","e","target"],"mappings":"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","sourcesContent":["import React, {useState,useRef} from 'react';\n// import ReactQuill from 'react-quill';\nimport Link from 'next/link';\nimport Head from 'next/head';\nimport LoadingOverlay from 'react-loading-overlay'\nimport { useCookies } from 'react-cookie';\nimport { useRouter } from 'next/router';\n\nimport AdminLayout from '../../components/AdminLayout';\n\n// import 'react-quill/dist/quill.snow.css'\n\n\n\n\nconst LOGIN_API = \"https://6j0n7kx92c.execute-api.us-east-2.amazonaws.com/dev/api/login\"\n// const cookies = new Cookies();\n\nconst Login = () => {\n    const [username,setUsername] = useState(\"\");\n    const [password,setPassword] = useState(\"\");\n    const [isLoading,setIsLoading] = useState(false);\n    const [error,setError] = useState(null);\n    const [cookies, setCookie] = useCookies(['token']);\n\n    const router = useRouter()\n\n    const handleChange=(value)=>{\n      console.log(\"value \",value)\n      setContent(value);\n    }\n\n    const login = () =>{\n\n      if(username==\"\"||password==\"\"){\n      \tconsole.log(username, password)\n        setError(\"please complete the form and try again\")\n      }else{\n        console.log(\"username and password \", username, password)\n        setIsLoading(true)\n        fetch(LOGIN_API, {\n            method: 'POST',\n            headers: {\n                  'Accept': 'application/json',\n                  'Content-Type': 'application/json'\n            }, \n            body: JSON.stringify({\n                 username: username,\n                 password: password\n               })\n            })\n            .then(response => response.json())\n            .then(data =>{\n              \tconsole.log(data);\n              \tif(data.error){\n              \t\tsetIsLoading(false)\n              \t\tsetError(data.message);\n              \t}else{\n              \t\tlet token = data.access_token;\n\t              \tsetCookie('token', token);\n              \t\tsetError(null);\n\t              \trouter.push('/')\n\t              \tsetIsLoading(false)\n              \t}\n            })\n            .catch(error =>{\n              setIsLoading(false)\n              console.log(error)\n            }) \n      }\n    }\n\n    \n    return(\n\n        <LoadingOverlay\n            active={isLoading}\n            spinner\n            text='Loading your content...'\n            >\n          \n\n          <AdminLayout>\n\t          <div className=\"d-flex justify-content-center\">\n\t          \t<div className=\"auth-card\">\n\t\t   \t\t\t<div className=\"card card-small mb-4\">\n\t\t                <div className=\"card-header border-bottom text-center\">\n\t\t                    <h6 className=\"m-0\">Login</h6>\n\t\t                </div>\n\t\t                <div className=\"login-group w-50 mx-auto\">\n\t\t                \t{error!==null?<div className=\"alert alert-danger\" role=\"alert\">\n\t\t\t\t\t\t\t\t\t  {error}\n\t\t\t\t\t\t\t\t\t</div>:\"\"}\n\t\t                    <form>\n\t\t                        <strong className=\"text-muted d-block mb-2\">Username</strong>\n\t\t                        <div className=\"input-group mb-3\">\n\t\t                          <div className=\"input-group-prepend\">\n\t\t                            <span className=\"input-group-text\">@</span>\n\t\t                          </div>\n\t\t                          <input type=\"text\" className=\"form-control\" onChange={e=>setUsername(e.target.value)} aria-label=\"Username\" aria-describedby=\"basic-addon1\" /> \n\t\t                        </div>\n\n\t\t                        <strong className=\"text-muted d-block mb-2\">Password</strong>\n\t\t                        <div className=\"input-group mb-3\">\n\t\t                          <div className=\"input-group input-group-seamless\">\n\t\t                            <input type=\"password\" className=\"form-control\" onChange={e=>setPassword(e.target.value)} id=\"password\"  />\n\t\t                            <span className=\"input-group-append\">\n\t\t                              <span className=\"input-group-text\">\n\t\t                                <i className=\"material-icons\">lock</i>\n\t\t                              </span>\n\t\t                            </span>\n\t\t                          </div>\n\t\t                        </div>\n\t\t                        <div className=\"float-right\">\n\t\t                        \t<button type=\"button\" onClick={()=>login()} class=\"mb-2 btn btn-sm btn-primary mr-1\">Submit</button>\n\t\t                        </div>\n\t\t                        <p>Don't have an Account! <a href=\"/register\">Sign Up Here</a></p>\n          \t\t\t\t\t\t<p>Forgot <a href=\"#\">Password?</a></p>\n\t\t                    </form>\n\t\t                </div>\n\t\t            </div>\n\t\t        </div>\n\t        </div>\n            <style jsx>{`\n              .auth-card{\n              \twidth: 30rem;\n              \tmargin-top: 5rem;\n              }\n\n\n              .login-group{\n              \tpadding-top: 10%;\n              \tpadding-bottom: 10%;\n              }\n            `}</style>\n          </AdminLayout>\n        </LoadingOverlay>\n      )\n    \n}\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}