{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useRouter } from 'next/router';\nimport Link from 'next/link';\nimport Layout from '../../components/Layout';\nimport dateformat from 'dateformat';\nimport fetch from 'isomorphic-unfetch'; // import data from '../../components/Data';\n// import Markdown from 'react-markdown';\n\nvar Detail = function Detail(props) {\n  var router = useRouter();\n  return __jsx(Layout, null, __jsx(\"div\", {\n    className: \"jsx-1062929830\" + \" \" + \"section banner-page blog-bg\"\n  }, __jsx(\"div\", {\n    className: \"jsx-1062929830\" + \" \" + \"content-wrap pos-relative\"\n  }, __jsx(\"div\", {\n    className: \"jsx-1062929830\" + \" \" + \"d-flex justify-content-center bd-highlight mb-3\"\n  }, __jsx(\"div\", {\n    className: \"jsx-1062929830\" + \" \" + \"title-page\"\n  }, \"Blogs\")), __jsx(\"div\", {\n    className: \"jsx-1062929830\" + \" \" + \"d-flex justify-content-center bd-highlight mb-3\"\n  }, __jsx(\"nav\", {\n    \"aria-label\": \"breadcrumb\",\n    className: \"jsx-1062929830\"\n  }, __jsx(\"ol\", {\n    className: \"jsx-1062929830\" + \" \" + \"breadcrumb \"\n  }, __jsx(\"li\", {\n    className: \"jsx-1062929830\" + \" \" + \"breadcrumb-item\"\n  }, __jsx(\"a\", {\n    href: \"/\",\n    className: \"jsx-1062929830\"\n  }, \"Home\")), __jsx(\"li\", {\n    \"aria-current\": \"page\",\n    className: \"jsx-1062929830\" + \" \" + \"breadcrumb-item active\"\n  }, \"Blogs\")))))), __jsx(\"div\", {\n    className: \"jsx-1062929830\" + \" \" + \"section \"\n  }, __jsx(\"div\", {\n    className: \"jsx-1062929830\" + \" \" + \"content-wrap\"\n  }, __jsx(\"div\", {\n    className: \"jsx-1062929830\" + \" \" + \"container\"\n  }, __jsx(\"div\", {\n    className: \"jsx-1062929830\" + \" \" + \"row\"\n  }, __jsx(\"div\", {\n    className: \"jsx-1062929830\" + \" \" + \"col-sm-12 col-md-12 col-lg-9\"\n  }, __jsx(\"div\", {\n    className: \"jsx-1062929830\" + \" \" + \"single-news\"\n  }, __jsx(\"h2\", {\n    className: \"jsx-1062929830\" + \" \" + \"title\"\n  }, \" \", props.post.title, \" \"), __jsx(\"img\", {\n    src: props.post.image_url,\n    alt: \"\",\n    className: \"jsx-1062929830\" + \" \" + \"img-fluid rounded\"\n  }), __jsx(\"div\", {\n    className: \"jsx-1062929830\" + \" \" + \"meta-date\"\n  }, dateformat(props.post.date_posted, \"dddd, mmmm dS, yyyy, h:MM:ss TT\")), __jsx(\"div\", {\n    dangerouslySetInnerHTML: {\n      __html: props.post.content\n    },\n    className: \"jsx-1062929830\"\n  }))), __jsx(\"div\", {\n    className: \"jsx-1062929830\" + \" \" + \"col-sm-12 col-md-12 col-lg-3\"\n  }, __jsx(\"h3\", {\n    className: \"jsx-1062929830\" + \" \" + \"title\"\n  }, \" Related Blogs \"), props.related.map(function (item) {\n    return __jsx(\"div\", {\n      className: \"jsx-1062929830\" + \" \" + \"rs-news-1 mb-2\"\n    }, __jsx(\"div\", {\n      className: \"jsx-1062929830\" + \" \" + \"media-box\"\n    }, __jsx(\"img\", {\n      src: item.image_url,\n      alt: \"\",\n      className: \"jsx-1062929830\" + \" \" + \"img-fluid\"\n    })), __jsx(\"div\", {\n      className: \"jsx-1062929830\" + \" \" + \"body-box\"\n    }, __jsx(\"div\", {\n      className: \"jsx-1062929830\" + \" \" + \"title\"\n    }, item.title), __jsx(\"div\", {\n      className: \"jsx-1062929830\" + \" \" + \"meta-date\"\n    }, dateformat(props.post.date_posted, \"dddd, mmmm dS, yyyy, h:MM:ss TT\")), __jsx(\"div\", {\n      className: \"jsx-1062929830\" + \" \" + \"text-center\"\n    }, __jsx(Link, {\n      href: \"/p/\".concat(item.slug, \"?pd=\").concat(item.id)\n    }, __jsx(\"a\", {\n      className: \"jsx-1062929830\" + \" \" + \"btn btn-secondary\"\n    }, \"View\")))));\n  })))))), __jsx(_JSXStyle, {\n    id: \"1062929830\"\n  }, [\".blog-bg{background-image:url(\\\"/images/Blog_Banner.jpg\\\");}\", \".markdown{font-family:'Arial';color:red;}\", \".markdown a{-webkit-text-decoration:none;text-decoration:none;color:blue;}\", \".markdown a:hover{opacity:0.6;}\", \".markdown h3{margin:0;padding:0;text-transform:uppercase;}\", \".title{text-align:center;}\"]));\n};\n\nDetail.getInitialProps = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(context) {\n    var _context$query, slug, pd, BASE_POST_API, POST_API, res, post, related_res, related_post;\n\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context$query = context.query, slug = _context$query.slug, pd = _context$query.pd;\n            BASE_POST_API = \"https://gwh3ump9m0.execute-api.us-east-2.amazonaws.com/prod/api/posts\";\n            POST_API = BASE_POST_API + \"/\".concat(pd);\n            _context.next = 5;\n            return fetch(POST_API);\n\n          case 5:\n            res = _context.sent;\n            _context.next = 8;\n            return res.json();\n\n          case 8:\n            post = _context.sent;\n            _context.next = 11;\n            return fetch(BASE_POST_API);\n\n          case 11:\n            related_res = _context.sent;\n            _context.next = 14;\n            return related_res.json();\n\n          case 14:\n            related_post = _context.sent;\n            console.log(\"Fetched post: \".concat(post));\n            console.log(\"Fetched related posts: \".concat(related_post));\n            return _context.abrupt(\"return\", {\n              \"post\": post,\n              \"related\": related_post.slice(0, 2)\n            });\n\n          case 18:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function (_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nexport default Detail;","map":null,"metadata":{},"sourceType":"module"}