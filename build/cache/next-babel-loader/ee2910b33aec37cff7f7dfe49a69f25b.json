{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/dayoakinbami/Desktop/dev/abc-frontend/abc/pages/admin/login.js\",\n    _s = $RefreshSig$();\n\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React, { useState, useRef } from 'react'; // import ReactQuill from 'react-quill';\n\nimport Link from 'next/link';\nimport Head from 'next/head';\nimport LoadingOverlay from 'react-loading-overlay';\nimport { useCookies } from 'react-cookie';\nimport { useRouter } from 'next/router';\nimport { Base64 } from 'js-base64';\nimport AdminLayout from '../../components/AdminLayout'; // import 'react-quill/dist/quill.snow.css'\n\nvar LOGIN_API = \"https://gwh3ump9m0.execute-api.us-east-2.amazonaws.com/prod/api/login\"; // const cookies = new Cookies();\n\nvar Login = function Login() {\n  _s();\n\n  var _useState = useState(\"\"),\n      username = _useState[0],\n      setUsername = _useState[1];\n\n  var _useState2 = useState(\"\"),\n      password = _useState2[0],\n      setPassword = _useState2[1];\n\n  var _useState3 = useState(false),\n      isLoading = _useState3[0],\n      setIsLoading = _useState3[1];\n\n  var _useState4 = useState(null),\n      error = _useState4[0],\n      setError = _useState4[1];\n\n  var _useCookies = useCookies(['token']),\n      _useCookies2 = _slicedToArray(_useCookies, 2),\n      cookies = _useCookies2[0],\n      setCookie = _useCookies2[1];\n\n  var router = useRouter();\n\n  var handleChange = function handleChange(value) {\n    console.log(\"value \", value);\n    setContent(value);\n  };\n\n  var login = function login() {\n    console.log(\"this is this username and password\");\n    console.log(username, password);\n\n    if (username == \"\" || password == \"\") {\n      console.log(username, password);\n      setError(\"please complete the form and try again\");\n    } else {\n      console.log(\"username and password \", username, password);\n      setIsLoading(true);\n      fetch(LOGIN_API, {\n        method: 'POST',\n        headers: {\n          \"Authorization\": \"Basic \".concat(Base64.encode(\"\".concat(username, \":\").concat(password)))\n        }\n      }).then(function (response) {\n        return response.json();\n      }).then(function (data) {\n        console.log(data);\n\n        if (data.status) {\n          var token = data.access_token;\n          setCookie('token', token);\n          setError(null);\n          router.push('/admin/posts');\n        } else {\n          setIsLoading(false);\n          setError(data.message); // setIsLoading(false)\n        }\n      })[\"catch\"](function (error) {\n        setIsLoading(false);\n        console.log(error);\n      });\n    }\n  };\n\n  return __jsx(LoadingOverlay, {\n    active: isLoading,\n    spinner: true,\n    text: \"Loading your content...\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }\n  }, __jsx(AdminLayout, {\n    sidebar: false,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 11\n    }\n  }, __jsx(\"div\", {\n    className: \"jsx-2786593315\" + \" \" + \" w-100 d-flex justify-content-center\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 12\n    }\n  }, __jsx(\"div\", {\n    className: \"jsx-2786593315\" + \" \" + \"auth-card\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    className: \"jsx-2786593315\" + \" \" + \"card card-small mb-4\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    className: \"jsx-2786593315\" + \" \" + \"card-header border-bottom text-center\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 23\n    }\n  }, __jsx(\"h6\", {\n    className: \"jsx-2786593315\" + \" \" + \"m-0\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 27\n    }\n  }, \"Login\")), __jsx(\"div\", {\n    className: \"jsx-2786593315\" + \" \" + \"login-group w-50 mx-auto\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 23\n    }\n  }, error !== null ? __jsx(\"div\", {\n    role: \"alert\",\n    className: \"jsx-2786593315\" + \" \" + \"alert alert-danger\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 38\n    }\n  }, error) : \"\", __jsx(\"form\", {\n    className: \"jsx-2786593315\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 25\n    }\n  }, __jsx(\"strong\", {\n    className: \"jsx-2786593315\" + \" \" + \"text-muted d-block mb-2\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 27\n    }\n  }, \"Username\"), __jsx(\"div\", {\n    className: \"jsx-2786593315\" + \" \" + \"input-group mb-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 27\n    }\n  }, __jsx(\"div\", {\n    className: \"jsx-2786593315\" + \" \" + \"input-group-prepend\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 29\n    }\n  }, __jsx(\"span\", {\n    className: \"jsx-2786593315\" + \" \" + \"input-group-text\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 31\n    }\n  }, \"@\")), __jsx(\"input\", {\n    type: \"text\",\n    onChange: function onChange(e) {\n      return setUsername(e.target.value);\n    },\n    \"aria-label\": \"Username\",\n    \"aria-describedby\": \"basic-addon1\",\n    className: \"jsx-2786593315\" + \" \" + \"form-control\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 29\n    }\n  })), __jsx(\"strong\", {\n    className: \"jsx-2786593315\" + \" \" + \"text-muted d-block mb-2\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 27\n    }\n  }, \"Password\"), __jsx(\"div\", {\n    className: \"jsx-2786593315\" + \" \" + \"input-group mb-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 27\n    }\n  }, __jsx(\"div\", {\n    className: \"jsx-2786593315\" + \" \" + \"input-group input-group-seamless\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 29\n    }\n  }, __jsx(\"input\", {\n    type: \"password\",\n    onChange: function onChange(e) {\n      return setPassword(e.target.value);\n    },\n    id: \"password\",\n    className: \"jsx-2786593315\" + \" \" + \"form-control\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 31\n    }\n  }), __jsx(\"span\", {\n    className: \"jsx-2786593315\" + \" \" + \"input-group-append\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 31\n    }\n  }, __jsx(\"span\", {\n    className: \"jsx-2786593315\" + \" \" + \"input-group-text\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 33\n    }\n  }, __jsx(\"i\", {\n    className: \"jsx-2786593315\" + \" \" + \"material-icons\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 35\n    }\n  }, \"lock\"))))), __jsx(\"div\", {\n    className: \"jsx-2786593315\" + \" \" + \"float-right\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 27\n    }\n  }, __jsx(\"button\", {\n    type: \"button\",\n    onClick: login,\n    \"class\": \"mb-2 btn btn-sm btn-primary mr-1\",\n    className: \"jsx-2786593315\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 28\n    }\n  }, \"Submit\")), __jsx(\"p\", {\n    className: \"jsx-2786593315\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 23\n    }\n  }, \"Forgot \", __jsx(\"a\", {\n    href: \"#\",\n    className: \"jsx-2786593315\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 33\n    }\n  }, \"Password?\"))))))), __jsx(_JSXStyle, {\n    id: \"2786593315\",\n    __self: _this\n  }, \".auth-card.jsx-2786593315{width:30rem;margin-top:10rem;margin-bottom:10rem;}.login-group.jsx-2786593315{padding-top:10%;padding-bottom:10%;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9kYXlvYWtpbmJhbWkvRGVza3RvcC9kZXYvYWJjLWZyb250ZW5kL2FiYy9wYWdlcy9hZG1pbi9sb2dpbi5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUF5SHdCLEFBRzRCLEFBT0ksWUFOQyxJQU9FLGFBTkUsTUFPdEIsY0FOQSIsImZpbGUiOiIvVXNlcnMvZGF5b2FraW5iYW1pL0Rlc2t0b3AvZGV2L2FiYy1mcm9udGVuZC9hYmMvcGFnZXMvYWRtaW4vbG9naW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHt1c2VTdGF0ZSx1c2VSZWZ9IGZyb20gJ3JlYWN0Jztcbi8vIGltcG9ydCBSZWFjdFF1aWxsIGZyb20gJ3JlYWN0LXF1aWxsJztcbmltcG9ydCBMaW5rIGZyb20gJ25leHQvbGluayc7XG5pbXBvcnQgSGVhZCBmcm9tICduZXh0L2hlYWQnO1xuaW1wb3J0IExvYWRpbmdPdmVybGF5IGZyb20gJ3JlYWN0LWxvYWRpbmctb3ZlcmxheSdcbmltcG9ydCB7IHVzZUNvb2tpZXMgfSBmcm9tICdyZWFjdC1jb29raWUnO1xuaW1wb3J0IHsgdXNlUm91dGVyIH0gZnJvbSAnbmV4dC9yb3V0ZXInO1xuaW1wb3J0IHsgQmFzZTY0IH0gZnJvbSAnanMtYmFzZTY0JztcblxuaW1wb3J0IEFkbWluTGF5b3V0IGZyb20gJy4uLy4uL2NvbXBvbmVudHMvQWRtaW5MYXlvdXQnO1xuXG4vLyBpbXBvcnQgJ3JlYWN0LXF1aWxsL2Rpc3QvcXVpbGwuc25vdy5jc3MnXG5cblxuXG5cbmNvbnN0IExPR0lOX0FQSSA9IFwiaHR0cHM6Ly9nd2gzdW1wOW0wLmV4ZWN1dGUtYXBpLnVzLWVhc3QtMi5hbWF6b25hd3MuY29tL3Byb2QvYXBpL2xvZ2luXCJcbi8vIGNvbnN0IGNvb2tpZXMgPSBuZXcgQ29va2llcygpO1xuXG5jb25zdCBMb2dpbiA9ICgpID0+IHtcbiAgICBjb25zdCBbdXNlcm5hbWUsc2V0VXNlcm5hbWVdID0gdXNlU3RhdGUoXCJcIik7XG4gICAgY29uc3QgW3Bhc3N3b3JkLHNldFBhc3N3b3JkXSA9IHVzZVN0YXRlKFwiXCIpO1xuICAgIGNvbnN0IFtpc0xvYWRpbmcsc2V0SXNMb2FkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgICBjb25zdCBbZXJyb3Isc2V0RXJyb3JdID0gdXNlU3RhdGUobnVsbCk7XG4gICAgY29uc3QgW2Nvb2tpZXMsIHNldENvb2tpZV0gPSB1c2VDb29raWVzKFsndG9rZW4nXSk7XG5cbiAgICBjb25zdCByb3V0ZXIgPSB1c2VSb3V0ZXIoKVxuXG4gICAgY29uc3QgaGFuZGxlQ2hhbmdlPSh2YWx1ZSk9PntcbiAgICAgIGNvbnNvbGUubG9nKFwidmFsdWUgXCIsdmFsdWUpXG4gICAgICBzZXRDb250ZW50KHZhbHVlKTtcbiAgICB9XG5cbiAgICBjb25zdCBsb2dpbiA9ICgpID0+e1xuICAgICAgY29uc29sZS5sb2coXCJ0aGlzIGlzIHRoaXMgdXNlcm5hbWUgYW5kIHBhc3N3b3JkXCIpXG4gICAgICBjb25zb2xlLmxvZyh1c2VybmFtZSwgcGFzc3dvcmQpXG4gICAgICBpZih1c2VybmFtZT09XCJcInx8cGFzc3dvcmQ9PVwiXCIpe1xuICAgICAgXHRjb25zb2xlLmxvZyh1c2VybmFtZSwgcGFzc3dvcmQpXG4gICAgICAgIHNldEVycm9yKFwicGxlYXNlIGNvbXBsZXRlIHRoZSBmb3JtIGFuZCB0cnkgYWdhaW5cIilcbiAgICAgIH1lbHNle1xuICAgICAgICBjb25zb2xlLmxvZyhcInVzZXJuYW1lIGFuZCBwYXNzd29yZCBcIiwgdXNlcm5hbWUsIHBhc3N3b3JkKVxuICAgICAgICBzZXRJc0xvYWRpbmcodHJ1ZSlcblxuICAgICAgICBmZXRjaChMT0dJTl9BUEksIHtcbiAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICAgXCJBdXRob3JpemF0aW9uXCI6IGBCYXNpYyAke0Jhc2U2NC5lbmNvZGUoYCR7dXNlcm5hbWV9OiR7cGFzc3dvcmR9YCl9YFxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gcmVzcG9uc2UuanNvbigpKVxuICAgICAgICAgICAgLnRoZW4oZGF0YSA9PntcbiAgICAgICAgICAgICAgXHRjb25zb2xlLmxvZyhkYXRhKTtcbiAgICAgICAgICAgICAgXHRpZihkYXRhLnN0YXR1cyl7XG4gICAgICAgICAgICAgICAgICBsZXQgdG9rZW4gPSBkYXRhLmFjY2Vzc190b2tlbjtcbiAgICAgICAgICAgICAgICAgIHNldENvb2tpZSgndG9rZW4nLCB0b2tlbik7XG4gICAgICAgICAgICAgICAgICBzZXRFcnJvcihudWxsKTtcbiAgICAgICAgICAgICAgICAgIHJvdXRlci5wdXNoKCcvYWRtaW4vcG9zdHMnKVxuICAgICAgICAgICAgICBcdH1lbHNle1xuICAgICAgICAgICAgICBcdFx0c2V0SXNMb2FkaW5nKGZhbHNlKVxuICAgICAgICAgICAgICAgICAgc2V0RXJyb3IoZGF0YS5tZXNzYWdlKTtcblx0ICAgICAgICAgICAgICBcdC8vIHNldElzTG9hZGluZyhmYWxzZSlcbiAgICAgICAgICAgICAgXHR9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKGVycm9yID0+e1xuICAgICAgICAgICAgICBzZXRJc0xvYWRpbmcoZmFsc2UpXG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKVxuICAgICAgICAgICAgfSkgXG4gICAgICB9XG4gICAgfVxuXG4gICAgXG4gICAgcmV0dXJuKFxuXG4gICAgICAgIDxMb2FkaW5nT3ZlcmxheVxuICAgICAgICAgICAgYWN0aXZlPXtpc0xvYWRpbmd9XG4gICAgICAgICAgICBzcGlubmVyXG4gICAgICAgICAgICB0ZXh0PSdMb2FkaW5nIHlvdXIgY29udGVudC4uLidcbiAgICAgICAgICAgID5cbiAgICAgICAgICBcblxuICAgICAgICAgIDxBZG1pbkxheW91dCBzaWRlYmFyPXtmYWxzZX0+XG5cdCAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIiB3LTEwMCBkLWZsZXgganVzdGlmeS1jb250ZW50LWNlbnRlclwiPlxuXHQgICAgICAgICAgXHQ8ZGl2IGNsYXNzTmFtZT1cImF1dGgtY2FyZFwiPlxuICAgIFx0XHQgICBcdFx0XHQ8ZGl2IGNsYXNzTmFtZT1cImNhcmQgY2FyZC1zbWFsbCBtYi00XCI+XG4gICAgXHRcdCAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhcmQtaGVhZGVyIGJvcmRlci1ib3R0b20gdGV4dC1jZW50ZXJcIj5cbiAgICBcdFx0ICAgICAgICAgICAgICAgICAgICA8aDYgY2xhc3NOYW1lPVwibS0wXCI+TG9naW48L2g2PlxuICAgIFx0XHQgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgXHRcdCAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImxvZ2luLWdyb3VwIHctNTAgbXgtYXV0b1wiPlxuICAgIFx0XHQgICAgICAgICAgICAgICAgXHR7ZXJyb3IhPT1udWxsPzxkaXYgY2xhc3NOYW1lPVwiYWxlcnQgYWxlcnQtZGFuZ2VyXCIgcm9sZT1cImFsZXJ0XCI+XG4gICAgICAgIFx0XHRcdFx0XHRcdFx0XHRcdCAge2Vycm9yfVxuICAgICAgICBcdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj46XCJcIn1cbiAgXHRcdCAgICAgICAgICAgICAgICAgICAgPGZvcm0+XG5cdFx0ICAgICAgICAgICAgICAgICAgICAgICAgPHN0cm9uZyBjbGFzc05hbWU9XCJ0ZXh0LW11dGVkIGQtYmxvY2sgbWItMlwiPlVzZXJuYW1lPC9zdHJvbmc+XG5cdFx0ICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJpbnB1dC1ncm91cCBtYi0zXCI+XG5cdFx0ICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImlucHV0LWdyb3VwLXByZXBlbmRcIj5cblx0XHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaW5wdXQtZ3JvdXAtdGV4dFwiPkA8L3NwYW4+XG5cdFx0ICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblx0XHQgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiIG9uQ2hhbmdlPXtlPT5zZXRVc2VybmFtZShlLnRhcmdldC52YWx1ZSl9IGFyaWEtbGFiZWw9XCJVc2VybmFtZVwiIGFyaWEtZGVzY3JpYmVkYnk9XCJiYXNpYy1hZGRvbjFcIiAvPiBcblx0XHQgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuXHRcdCAgICAgICAgICAgICAgICAgICAgICAgIDxzdHJvbmcgY2xhc3NOYW1lPVwidGV4dC1tdXRlZCBkLWJsb2NrIG1iLTJcIj5QYXNzd29yZDwvc3Ryb25nPlxuXHRcdCAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaW5wdXQtZ3JvdXAgbWItM1wiPlxuXHRcdCAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJpbnB1dC1ncm91cCBpbnB1dC1ncm91cC1zZWFtbGVzc1wiPlxuXHRcdCAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInBhc3N3b3JkXCIgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCIgb25DaGFuZ2U9e2U9PnNldFBhc3N3b3JkKGUudGFyZ2V0LnZhbHVlKX0gaWQ9XCJwYXNzd29yZFwiICAvPlxuXHRcdCAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJpbnB1dC1ncm91cC1hcHBlbmRcIj5cblx0XHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJpbnB1dC1ncm91cC10ZXh0XCI+XG5cdFx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uc1wiPmxvY2s8L2k+XG5cdFx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuXHRcdCAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG5cdFx0ICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblx0XHQgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblx0XHQgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsb2F0LXJpZ2h0XCI+XG5cdFx0ICAgICAgICAgICAgICAgICAgICAgICAgXHQ8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBvbkNsaWNrPXtsb2dpbn0gY2xhc3M9XCJtYi0yIGJ0biBidG4tc20gYnRuLXByaW1hcnkgbXItMVwiPlN1Ym1pdDwvYnV0dG9uPlxuXHRcdCAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuXHRcdCAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgIFx0XHRcdFx0XHRcdCAgICAgIDxwPkZvcmdvdCA8YSBocmVmPVwiI1wiPlBhc3N3b3JkPzwvYT48L3A+XG4gIFx0XHQgICAgICAgICAgICAgICAgICAgIDwvZm9ybT5cbiAgICBcdFx0ICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgIFx0XHQgICAgICAgICAgICA8L2Rpdj5cbiAgICBcdFx0ICAgICAgICA8L2Rpdj5cbiAgICBcdCAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8c3R5bGUganN4PntgXG4gICAgICAgICAgICAgIC5hdXRoLWNhcmR7XG4gICAgICAgICAgICAgIFx0d2lkdGg6IDMwcmVtO1xuICAgICAgICAgICAgICBcdG1hcmdpbi10b3A6IDEwcmVtO1xuICAgICAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDEwcmVtO1xuICAgICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgICAubG9naW4tZ3JvdXB7XG4gICAgICAgICAgICAgIFx0cGFkZGluZy10b3A6IDEwJTtcbiAgICAgICAgICAgICAgXHRwYWRkaW5nLWJvdHRvbTogMTAlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBgfTwvc3R5bGU+XG4gICAgICAgICAgPC9BZG1pbkxheW91dD5cbiAgICAgICAgPC9Mb2FkaW5nT3ZlcmxheT5cbiAgICAgIClcbiAgICBcbn1cblxuZXhwb3J0IGRlZmF1bHQgTG9naW47XG4iXX0= */\\n/*@ sourceURL=/Users/dayoakinbami/Desktop/dev/abc-frontend/abc/pages/admin/login.js */\")));\n};\n\n_s(Login, \"SSSPfP6bAp7QA/8pWBPCbIrJ/zg=\", false, function () {\n  return [useCookies, useRouter];\n});\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["/Users/dayoakinbami/Desktop/dev/abc-frontend/abc/pages/admin/login.js"],"names":["React","useState","useRef","Link","Head","LoadingOverlay","useCookies","useRouter","Base64","AdminLayout","LOGIN_API","Login","username","setUsername","password","setPassword","isLoading","setIsLoading","error","setError","cookies","setCookie","router","handleChange","value","console","log","setContent","login","fetch","method","headers","encode","then","response","json","data","status","token","access_token","push","message","e","target"],"mappings":"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","sourcesContent":["import React, {useState,useRef} from 'react';\n// import ReactQuill from 'react-quill';\nimport Link from 'next/link';\nimport Head from 'next/head';\nimport LoadingOverlay from 'react-loading-overlay'\nimport { useCookies } from 'react-cookie';\nimport { useRouter } from 'next/router';\nimport { Base64 } from 'js-base64';\n\nimport AdminLayout from '../../components/AdminLayout';\n\n// import 'react-quill/dist/quill.snow.css'\n\n\n\n\nconst LOGIN_API = \"https://gwh3ump9m0.execute-api.us-east-2.amazonaws.com/prod/api/login\"\n// const cookies = new Cookies();\n\nconst Login = () => {\n    const [username,setUsername] = useState(\"\");\n    const [password,setPassword] = useState(\"\");\n    const [isLoading,setIsLoading] = useState(false);\n    const [error,setError] = useState(null);\n    const [cookies, setCookie] = useCookies(['token']);\n\n    const router = useRouter()\n\n    const handleChange=(value)=>{\n      console.log(\"value \",value)\n      setContent(value);\n    }\n\n    const login = () =>{\n      console.log(\"this is this username and password\")\n      console.log(username, password)\n      if(username==\"\"||password==\"\"){\n      \tconsole.log(username, password)\n        setError(\"please complete the form and try again\")\n      }else{\n        console.log(\"username and password \", username, password)\n        setIsLoading(true)\n\n        fetch(LOGIN_API, {\n            method: 'POST',\n            headers: {\n                  \"Authorization\": `Basic ${Base64.encode(`${username}:${password}`)}`\n              }\n            })\n            .then(response => response.json())\n            .then(data =>{\n              \tconsole.log(data);\n              \tif(data.status){\n                  let token = data.access_token;\n                  setCookie('token', token);\n                  setError(null);\n                  router.push('/admin/posts')\n              \t}else{\n              \t\tsetIsLoading(false)\n                  setError(data.message);\n\t              \t// setIsLoading(false)\n              \t}\n            })\n            .catch(error =>{\n              setIsLoading(false)\n              console.log(error)\n            }) \n      }\n    }\n\n    \n    return(\n\n        <LoadingOverlay\n            active={isLoading}\n            spinner\n            text='Loading your content...'\n            >\n          \n\n          <AdminLayout sidebar={false}>\n\t          <div className=\" w-100 d-flex justify-content-center\">\n\t          \t<div className=\"auth-card\">\n    \t\t   \t\t\t<div className=\"card card-small mb-4\">\n    \t\t                <div className=\"card-header border-bottom text-center\">\n    \t\t                    <h6 className=\"m-0\">Login</h6>\n    \t\t                </div>\n    \t\t                <div className=\"login-group w-50 mx-auto\">\n    \t\t                \t{error!==null?<div className=\"alert alert-danger\" role=\"alert\">\n        \t\t\t\t\t\t\t\t\t  {error}\n        \t\t\t\t\t\t\t\t\t</div>:\"\"}\n  \t\t                    <form>\n\t\t                        <strong className=\"text-muted d-block mb-2\">Username</strong>\n\t\t                        <div className=\"input-group mb-3\">\n\t\t                          <div className=\"input-group-prepend\">\n\t\t                            <span className=\"input-group-text\">@</span>\n\t\t                          </div>\n\t\t                          <input type=\"text\" className=\"form-control\" onChange={e=>setUsername(e.target.value)} aria-label=\"Username\" aria-describedby=\"basic-addon1\" /> \n\t\t                        </div>\n\n\t\t                        <strong className=\"text-muted d-block mb-2\">Password</strong>\n\t\t                        <div className=\"input-group mb-3\">\n\t\t                          <div className=\"input-group input-group-seamless\">\n\t\t                            <input type=\"password\" className=\"form-control\" onChange={e=>setPassword(e.target.value)} id=\"password\"  />\n\t\t                            <span className=\"input-group-append\">\n\t\t                              <span className=\"input-group-text\">\n\t\t                                <i className=\"material-icons\">lock</i>\n\t\t                              </span>\n\t\t                            </span>\n\t\t                          </div>\n\t\t                        </div>\n\t\t                        <div className=\"float-right\">\n\t\t                        \t<button type=\"button\" onClick={login} class=\"mb-2 btn btn-sm btn-primary mr-1\">Submit</button>\n\t\t                        </div>\n\t\t                        \n          \t\t\t\t\t\t      <p>Forgot <a href=\"#\">Password?</a></p>\n  \t\t                    </form>\n    \t\t                </div>\n    \t\t            </div>\n    \t\t        </div>\n    \t        </div>\n            <style jsx>{`\n              .auth-card{\n              \twidth: 30rem;\n              \tmargin-top: 10rem;\n                margin-bottom: 10rem;\n              }\n\n\n              .login-group{\n              \tpadding-top: 10%;\n              \tpadding-bottom: 10%;\n              }\n            `}</style>\n          </AdminLayout>\n        </LoadingOverlay>\n      )\n    \n}\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}