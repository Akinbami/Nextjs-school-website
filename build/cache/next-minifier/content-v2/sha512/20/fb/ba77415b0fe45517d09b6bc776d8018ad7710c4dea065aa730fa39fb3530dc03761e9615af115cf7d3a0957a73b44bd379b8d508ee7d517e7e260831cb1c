{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{Oklt:function(e,t,s){\"use strict\";s.r(t);var a=s(\"o0o1\"),o=s.n(a),n=s(\"HaE+\"),l=s(\"ODXe\"),c=s(\"MX0m\"),i=s.n(c),r=s(\"q1tI\"),m=s.n(r),u=(s(\"YFqc\"),s(\"8Kt/\"),s(\"a6RD\")),d=s.n(u),p=s(\"I5XY\"),x=s.n(p),b=s(\"r5vi\"),g=s(\"Ma5Y\"),f=s.n(g),j=s(\"vcXL\"),h=s.n(j),N=s(\"nOHt\"),v=s(\"hJmc\"),k=s(\"Cix5\"),w=m.a.createElement,y=(s(\"rmP6\"),d()((function(){return Promise.resolve().then(s.t.bind(null,\"rmP6\",7))}),{ssr:!1,loading:function(){return w(\"p\",null,\"Loading ...\")},loadableGenerated:{webpack:function(){return[\"rmP6\"]},modules:[\"react-quill\"]}})),O=function(e){var t=Object(r.useState)(\"\"),s=t[0],a=t[1],o=Object(r.useState)(\"\"),n=o[0],c=o[1],m=Object(r.useState)(\"Uncategorized\"),u=m[0],d=m[1],p=Object(r.useState)(\"\"),g=p[0],f=p[1],j=Object(r.useState)(!1),O=j[0],C=j[1],z=Object(r.useState)(!1),P=(z[0],z[1]),S=Object(r.useState)(!1),D=S[0],_=S[1],B=Object(r.useState)(null),U=B[0],T=B[1],A=Object(b.a)([\"token\"]),F=Object(l.a)(A,2),E=F[0],q=(F[1],Object(N.useRouter)());Object(r.useEffect)((function(){0==e.loggedIn&&(window.location.href=\"/admin/login\")}));var I=function(e){console.log(e.target.id),d(e.target.id)};return w(x.a,{active:D,spinner:!0,text:\"Loading your content...\"},w(v.a,{sidebar:!0},w(\"main\",{className:\"jsx-2430398980 main-content col-lg-10 col-md-9 col-sm-12 p-0 offset-lg-2 offset-md-3\"},w(k.a,null),w(\"div\",{className:\"jsx-2430398980 main-content-container container-fluid px-4\"},null==U?\"\":w(\"div\",{role:\"alert\",className:\"jsx-2430398980 alert alert-danger\"},U),w(\"div\",{className:\"jsx-2430398980 page-header row no-gutters py-4\"},w(\"div\",{className:\"jsx-2430398980 col-12 col-sm-4 text-center text-sm-left mb-0\"},w(\"span\",{className:\"jsx-2430398980 text-uppercase page-subtitle\"},\"Blog Posts\"),w(\"h3\",{className:\"jsx-2430398980 page-title\"},\"Add New Post\"))),w(\"div\",{className:\"jsx-2430398980 row\"},w(\"div\",{className:\"jsx-2430398980 col-lg-9 col-md-12\"},w(\"div\",{className:\"jsx-2430398980 card card-small mb-3\"},w(\"div\",{className:\"jsx-2430398980 card-body\"},w(\"form\",{className:\"jsx-2430398980 add-new-post\"},w(\"input\",{type:\"text\",placeholder:\"Your Post Title\",onChange:function(e){return a(e.target.value)},className:\"jsx-2430398980 form-control form-control-lg mb-3\"}),w(\"div\",{className:\"jsx-2430398980 add-new-post__editor mb-1\"},w(y,{modules:{toolbar:[[{header:\"1\"},{header:\"2\"},{font:[]}],[{size:[]}],[\"bold\",\"italic\",\"underline\",\"strike\",\"blockquote\"],[{list:\"ordered\"},{list:\"bullet\"},{indent:\"-1\"},{indent:\"+1\"}],[\"link\",\"image\",\"video\"],[\"clean\"]],clipboard:{matchVisual:!1}},formats:[\"header\",\"font\",\"size\",\"bold\",\"italic\",\"underline\",\"strike\",\"blockquote\",\"list\",\"bullet\",\"indent\",\"link\",\"image\",\"video\"],theme:\"snow\",onChange:function(e){console.log(\"value \",e),c(e)}})),w(\"div\",{className:\"jsx-2430398980 form-group files color\"},w(\"label\",{className:\"jsx-2430398980\"},\"Upload Your Image \"),w(\"input\",{\"data-required\":\"image\",type:\"file\",multiple:\"\",onChange:function(e){e.preventDefault(),console.log(e.target.files[0].name),console.log(e.target.files[0].type);var t=e.target.files[0],s=new FileReader;s.addEventListener(\"loadend\",(function(e){h()(\"https://z2evkvjux4.execute-api.us-east-2.amazonaws.com/prod/requestUploadURL\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({name:t.name,type:t.type})}).then((function(e){return e.json()})).then((function(e){return console.log(e),f(\"https://slsuploadabi.s3.us-east-2.amazonaws.com/\"+t.name),h()(e.uploadURL,{method:\"PUT\",body:new Blob([s.result],{type:t.type})})})).catch((function(e){_(!1),console.log(e)}))})),s.readAsArrayBuffer(t)},className:\"jsx-2430398980 form-control\"})))))),w(\"div\",{className:\"jsx-2430398980 col-lg-3 col-md-12\"},w(\"div\",{className:\"jsx-2430398980 card card-small mb-3\"},w(\"div\",{className:\"jsx-2430398980 card-header border-bottom\"},w(\"h6\",{className:\"jsx-2430398980 m-0\"},\"Categories\")),w(\"div\",{className:\"jsx-2430398980 card-body p-0\"},w(\"ul\",{className:\"jsx-2430398980 list-group list-group-flush\"},w(\"li\",{className:\"jsx-2430398980 list-group-item px-3 pb-2\"},w(\"div\",{className:\"jsx-2430398980 custom-control custom-checkbox mb-1\"},w(\"input\",{type:\"checkbox\",onChange:I,id:\"Uncategorized\",className:\"jsx-2430398980 custom-control-input\"}),w(\"label\",{htmlFor:\"Uncategorized\",className:\"jsx-2430398980 custom-control-label\"},\"Uncategorized\")),w(\"div\",{className:\"jsx-2430398980 custom-control custom-checkbox mb-1\"},w(\"input\",{type:\"checkbox\",onChange:I,id:\"Design\",className:\"jsx-2430398980 custom-control-input\"}),w(\"label\",{htmlFor:\"Design\",className:\"jsx-2430398980 custom-control-label\"},\"Design\")),w(\"div\",{className:\"jsx-2430398980 custom-control custom-checkbox mb-1\"},w(\"input\",{type:\"checkbox\",onChange:I,id:\"Development\",className:\"jsx-2430398980 custom-control-input\"}),w(\"label\",{htmlFor:\"Development\",className:\"jsx-2430398980 custom-control-label\"},\"Development\")),w(\"div\",{className:\"jsx-2430398980 custom-control custom-checkbox mb-1\"},w(\"input\",{type:\"checkbox\",onChange:I,id:\"Writing\",className:\"jsx-2430398980 custom-control-input\"}),w(\"label\",{htmlFor:\"Writing\",className:\"jsx-2430398980 custom-control-label\"},\"Writing\")),w(\"div\",{className:\"jsx-2430398980 custom-control custom-checkbox mb-1\"},w(\"input\",{type:\"checkbox\",onChange:I,id:\"Books\",className:\"jsx-2430398980 custom-control-input\"}),w(\"label\",{htmlFor:\"Books\",className:\"jsx-2430398980 custom-control-label\"},\"Books\")))))),w(\"div\",{className:\"jsx-2430398980 card card-small mb-3\"},w(\"div\",{className:\"jsx-2430398980 card-header border-bottom\"},w(\"h6\",{className:\"jsx-2430398980 m-0\"},\"Actions\")),w(\"div\",{className:\"jsx-2430398980 card-body p-0\"},w(\"ul\",{className:\"jsx-2430398980 list-group list-group-flush\"},w(\"li\",{className:\"jsx-2430398980 list-group-item p-3\"},w(\"span\",{className:\"jsx-2430398980 d-flex mb-2\"},w(\"i\",{className:\"jsx-2430398980 material-icons mr-1\"},\"flag\"),w(\"strong\",{className:\"jsx-2430398980 mr-1\"},\"Status:\"),\" Draft\",w(\"div\",{className:\"jsx-2430398980 custom-control custom-checkbox mb-1 ml-auto\"},w(\"input\",{type:\"checkbox\",onChange:function(e){return C(e.target.value)},id:\"draft\",className:\"jsx-2430398980 custom-control-input\"}),w(\"label\",{htmlFor:\"draft\",className:\"jsx-2430398980 custom-control-label\"}))),w(\"span\",{className:\"jsx-2430398980 d-flex mb-2\"},w(\"i\",{className:\"jsx-2430398980 material-icons mr-1\"},\"calendar_today\"),w(\"strong\",{className:\"jsx-2430398980 mr-1\"},\"Schedule:\"),\" Now\",w(\"div\",{className:\"jsx-2430398980 custom-control custom-checkbox mb-1 ml-auto\"},w(\"input\",{type:\"checkbox\",onChange:function(e){return P(e.target.value)},id:\"schedule\",className:\"jsx-2430398980 custom-control-input\"}),w(\"label\",{htmlFor:\"schedule\",className:\"jsx-2430398980 custom-control-label\"}))),w(\"span\",{className:\"jsx-2430398980 d-flex\"},w(\"i\",{className:\"jsx-2430398980 material-icons mr-1\"},\"score\"),w(\"strong\",{className:\"jsx-2430398980 mr-1\"},\"Readability:\"),w(\"strong\",{className:\"jsx-2430398980 text-warning\"},\"Ok\"))),w(\"li\",{className:\"jsx-2430398980 list-group-item d-flex px-3\"},w(\"button\",{onClick:function(e){e.preventDefault(),console.log(O),C(e.target.value)},className:\"jsx-2430398980 btn btn-sm btn-outline-accent\"},w(\"i\",{className:\"jsx-2430398980 material-icons\"},\"save\"),\" Save Draft\"),w(\"button\",{onClick:function e(){console.log(\"cookies \",E);var t=E.token;\"\"==s||\"\"==n?(console.log(\"family\",s,n),T(\"Empty title or Content\")):(console.log(\"content \",n),_(!0),h()(\"https://gwh3ump9m0.execute-api.us-east-2.amazonaws.com/prod/api/posts\",{method:\"POST\",headers:{Accept:\"application/json\",\"Content-Type\":\"application/json\",Authorization:\"Bearer \"+t},body:JSON.stringify({title:s,content:n,image_url:g,category:u,is_draft:O,is_published:e})}).then((function(e){return e.json()})).then((function(e){console.log(e),q.push(\"/admin/posts\"),_(!1)})).catch((function(e){_(!1),console.log(e)})))},className:\"jsx-2430398980 btn btn-sm btn-accent ml-auto\"},w(\"i\",{className:\"jsx-2430398980 material-icons\"},\"file_copy\"),\" Publish\")))))))),w(\"footer\",{className:\"jsx-2430398980 main-footer d-flex p-2 px-3 bg-white border-top\"},w(\"ul\",{className:\"jsx-2430398980 nav\"},w(\"li\",{className:\"jsx-2430398980 nav-item\"},w(\"a\",{href:\"#\",className:\"jsx-2430398980 nav-link\"},\"Home\")),w(\"li\",{className:\"jsx-2430398980 nav-item\"},w(\"a\",{href:\"#\",className:\"jsx-2430398980 nav-link\"},\"Services\")),w(\"li\",{className:\"jsx-2430398980 nav-item\"},w(\"a\",{href:\"#\",className:\"jsx-2430398980 nav-link\"},\"About\")),w(\"li\",{className:\"jsx-2430398980 nav-item\"},w(\"a\",{href:\"#\",className:\"jsx-2430398980 nav-link\"},\"Products\")),w(\"li\",{className:\"jsx-2430398980 nav-item\"},w(\"a\",{href:\"#\",className:\"jsx-2430398980 nav-link\"},\"Blog\"))),w(\"span\",{className:\"jsx-2430398980 copyright ml-auto my-auto mr-2\"},\"Copyright \\xa9 2018\",w(\"a\",{href:\"https://designrevision.com\",rel:\"nofollow\",className:\"jsx-2430398980\"},\"DesignRevision\")))),w(i.a,{id:\"2430398980\"},[\".files.jsx-2430398980 input.jsx-2430398980{outline:2px dashed #92b0b3;outline-offset:-10px;-webkit-transition:outline-offset .15s ease-in-out,background-color .15s linear;-webkit-transition:outline-offset .15s ease-in-out,background-color .15s linear;transition:outline-offset .15s ease-in-out,background-color .15s linear;padding:120px 0px 85px 35%;text-align:center !important;margin:0;width:100% !important;}\",\".files.jsx-2430398980 input.jsx-2430398980:focus{outline:2px dashed #92b0b3;outline-offset:-10px;-webkit-transition:outline-offset .15s ease-in-out,background-color .15s linear;-webkit-transition:outline-offset .15s ease-in-out,background-color .15s linear;transition:outline-offset .15s ease-in-out,background-color .15s linear;border:1px solid #92b0b3;}\",\".files.jsx-2430398980{position:relative;}\",'.files.jsx-2430398980:after{pointer-events:none;position:absolute;top:60px;left:0;width:50px;right:0;height:56px;content:\"\";background-image:url(https://image.flaticon.com/icons/png/128/109/109612.png);display:block;margin:0 auto;background-size:100%;background-repeat:no-repeat;}',\".color.jsx-2430398980 input.jsx-2430398980{background-color:#f1f1f1;}\",'.files.jsx-2430398980:before{position:absolute;bottom:10px;left:0;pointer-events:none;width:100%;right:0;height:57px;content:\" or drag it here. \";display:block;margin:0 auto;color:#2ea591;font-weight:600;text-transform:capitalize;text-align:center;}'])))};O.getInitialProps=function(){var e=Object(n.a)(o.a.mark((function e(t){var s,a,n,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=f()(t).token,console.log(\"this is the token \",s),\"https://gwh3ump9m0.execute-api.us-east-2.amazonaws.com/prod/api/secret\",a={method:\"GET\",headers:{Accept:\"application/json\",\"Content-Type\":\"application/json\",Authorization:\"Bearer \"+s}},e.next=6,h()(\"https://gwh3ump9m0.execute-api.us-east-2.amazonaws.com/prod/api/secret\",a);case 6:return n=e.sent,e.next=9,n.json();case 9:if(l=e.sent,console.log(l),!l.valid){e.next=16;break}return console.log(\"valid token\"),e.abrupt(\"return\",{loggedIn:!0});case 16:return console.log(\"invalid token\"),e.abrupt(\"return\",{loggedIn:!1});case 18:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.default=O},uxBU:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/admin/createPost\",function(){return s(\"Oklt\")}])}},[[\"uxBU\",0,2,7,1,3,4,6]]]);","extractedComments":[]}